(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{15:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c(4),a=c.n(s),o=c(2),r=c(0),i=function(t){var e=t.product,c=t.subscriber,n=t.toggle,s=t.change,a="btn btn-primary",o="START";return n&&(a="btn btn-danger",o="STOP"),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("p",{className:"card-text",children:["Product Count: ",e]}),Object(r.jsxs)("p",{className:"card-text",children:["Subscriber Count: ",c]}),Object(r.jsx)("button",{className:a,onClick:s,children:o})," "]})},b=c(5),l="",u="",h="";"localhost"==location.hostname?(u="http://".concat("localhost:5000","/api/signals"),h="http://".concat("localhost:5000","/api/toggle"),l="ws://".concat("localhost:5000")):(u="https://msskafka.onrender.com/api/signals",h="https://msskafka.onrender.com/api/toggle",l="wss://msskafka.onrender.com");var j=new b.w3cwebsocket(l),d=function(){var t=Object(n.useState)(0),e=Object(o.a)(t,2),c=e[0],s=e[1],a=Object(n.useState)(0),b=Object(o.a)(a,2),l=b[0],d=b[1],p=Object(n.useState)(!1),f=Object(o.a)(p,2),m=f[0],O=f[1];Object(n.useEffect)((function(){fetch(h).then((function(t){return t.json()})).then((function(t){console.log(t),O(t.state)})).catch((function(t){return console.error(t)}))}),[]),Object(n.useEffect)((function(){j.onopen=function(){console.log("WebSocket Client Connected")},j.onmessage=function(t){var e=JSON.parse(t.data);"tag"==e[0].type&&s(c+1),"subscriber"==e[0].type&&d(l+1),"status"==e[0].type&&O(e[0].state)}}));return Object(r.jsxs)("div",{className:"card text-center",children:[Object(r.jsxs)("div",{className:"card-header bg-primary text-white",children:[Object(r.jsx)("h3",{children:"MSS International Lab"}),Object(r.jsx)("h4",{children:"Kafka Streaming Platform"})]}),Object(r.jsx)(i,{product:c,subscriber:l,change:function(){fetch(u)},toggle:m})]})};var p=function(){return Object(r.jsx)(d,{})};c(14);a.a.render(Object(r.jsx)(p,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.900cc752.chunk.js.map